<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>货物打包管理系统</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>📦 货物打包管理系统</h1>
            <p class="subtitle">管理Google Form订单数据，轻松追踪打包进度</p>
            <button id="helpBtn" class="help-btn" onclick="showHelp()">📱 手机使用帮助</button>
        </header>

        <div class="actions-bar">
            <div class="file-upload-section">
                <label for="csvFile" class="upload-btn">
                    📄 导入CSV文件
                    <input type="file" id="csvFile" accept=".csv" multiple>
                </label>
                <span id="fileCount" class="file-count"></span>
            </div>
            
            <div class="search-section">
                <input type="text" id="searchInput" placeholder="🔍 搜索订单...">
                <select id="statusFilter">
                    <option value="all">全部状态</option>
                    <option value="pending">待打包</option>
                    <option value="packed">已打包</option>
                </select>
                <select id="pickupDeliveryFilter">
                    <option value="all">全部类型</option>
                    <option value="pickup">Pickup</option>
                    <option value="delivery">Delivery</option>
                </select>
            </div>

            <div class="stats-section">
                <div class="stat">
                    <span class="stat-label">总订单:</span>
                    <span id="totalOrders" class="stat-value">0</span>
                </div>
                <div class="stat">
                    <span class="stat-label">待打包:</span>
                    <span id="pendingOrders" class="stat-value pending">0</span>
                </div>
                <div class="stat">
                    <span class="stat-label">已打包:</span>
                    <span id="packedOrders" class="stat-value packed">0</span>
                </div>
            </div>
        </div>

        <div class="table-container">
            <table id="ordersTable">
                <thead>
                    <tr>
                        <th class="col-id">序号</th>
                        <th class="col-status">打包状态</th>
                        <th class="col-action">操作</th>
                    </tr>
                </thead>
                <tbody id="ordersBody">
                    <tr class="empty-row">
                        <td colspan="3" class="empty-message">
                            暂无数据，请导入CSV文件
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="footer-actions">
            <button id="exportBtn" class="btn btn-secondary">📥 导出已打包列表</button>
            <button id="debugBtn" class="btn btn-secondary" onclick="showDebugInfo()">🔍 查看调试信息</button>
            <button id="clearBtn" class="btn btn-danger">🗑️ 清空所有数据</button>
        </div>
    </div>

    <!-- 帮助对话框 -->
    <div id="helpModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeHelp()">&times;</span>
            <h2>📱 手机使用指南</h2>
            <div class="help-content">
                <h3>如何导入Google Form数据：</h3>
                <ol>
                    <li><strong>导出CSV文件</strong>：在Google Form的"回复"中点击"下载回复(.csv)"</li>
                    <li><strong>保存到手机</strong>：将CSV文件保存到手机的"下载"或"文档"文件夹</li>
                    <li><strong>打开应用</strong>：用浏览器打开index.html文件</li>
                    <li><strong>导入文件</strong>：点击"导入CSV文件"按钮，选择您的CSV文件</li>
                </ol>
                
                <h3>💡 小贴士：</h3>
                <ul>
                    <li>推荐使用Chrome或Safari浏览器</li>
                    <li>可以将应用添加到主屏幕，像应用一样使用</li>
                    <li>数据会自动保存，刷新页面不会丢失</li>
                </ul>
                
                <h3>📞 常见问题：</h3>
                <p><strong>找不到文件？</strong>在文件选择器中尝试浏览"下载"、"文档"或"文件"文件夹</p>
                <p><strong>无法导入？</strong>确保使用Chrome或Safari浏览器，某些浏览器可能不支持</p>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>

